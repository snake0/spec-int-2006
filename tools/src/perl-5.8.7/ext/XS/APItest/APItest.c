/*
 * This file was generated automatically by xsubpp version 1.9508 from the
 * contents of APItest.xs. Do not edit this file, edit APItest.xs instead.
 *
 *	ANY CHANGES MADE HERE WILL BE LOST!
 *
 */

#line 1 "APItest.xs"
#include "EXTERN.h"
#include "perl.h"
#include "XSUB.h"


#line 16 "APItest.c"
#define UTF8KLEN(sv, len)   (SvUTF8(sv) ? -(I32)len : (I32)len)
XS(XS_XS__APItest__Hash_exists); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest__Hash_exists)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::Hash::exists(hash, key_sv)");
    {
#line 13 "APItest.xs"
	STRLEN len;
	const char *key;
#line 28 "APItest.c"
	HV *	hash;
	SV *	key_sv = ST(1);
	bool	RETVAL;

	if (SvROK(ST(0)) && SvTYPE(SvRV(ST(0)))==SVt_PVHV)
	    hash = (HV*)SvRV(ST(0));
	else
	    Perl_croak(aTHX_ "hash is not a hash reference");
#line 19 "APItest.xs"
	key = SvPV(key_sv, len);
	RETVAL = hv_exists(hash, key, UTF8KLEN(key_sv, len));
#line 40 "APItest.c"
	ST(0) = boolSV(RETVAL);
	sv_2mortal(ST(0));
    }
    XSRETURN(1);
}

XS(XS_XS__APItest__Hash_delete); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest__Hash_delete)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::Hash::delete(hash, key_sv)");
    {
#line 27 "APItest.xs"
	STRLEN len;
	const char *key;
#line 57 "APItest.c"
	HV *	hash;
	SV *	key_sv = ST(1);
	SV *	RETVAL;

	if (SvROK(ST(0)) && SvTYPE(SvRV(ST(0)))==SVt_PVHV)
	    hash = (HV*)SvRV(ST(0));
	else
	    Perl_croak(aTHX_ "hash is not a hash reference");
#line 33 "APItest.xs"
	key = SvPV(key_sv, len);
	/* It's already mortal, so need to increase reference count.  */
	RETVAL = SvREFCNT_inc(hv_delete(hash, key, UTF8KLEN(key_sv, len), 0));
#line 70 "APItest.c"
	ST(0) = RETVAL;
	sv_2mortal(ST(0));
    }
    XSRETURN(1);
}

XS(XS_XS__APItest__Hash_store_ent); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest__Hash_store_ent)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: XS::APItest::Hash::store_ent(hash, key, value)");
    {
#line 42 "APItest.xs"
	SV *copy;
	HE *result;
#line 87 "APItest.c"
	HV *	hash;
	SV *	key = ST(1);
	SV *	value = ST(2);
	SV *	RETVAL;

	if (SvROK(ST(0)) && SvTYPE(SvRV(ST(0)))==SVt_PVHV)
	    hash = (HV*)SvRV(ST(0));
	else
	    Perl_croak(aTHX_ "hash is not a hash reference");
#line 49 "APItest.xs"
	copy = newSV(0);
	result = hv_store_ent(hash, key, copy, 0);
	SvSetMagicSV(copy, value);
	if (!result) {
	    SvREFCNT_dec(copy);
	    XSRETURN_EMPTY;
	}
	/* It's about to become mortal, so need to increase reference count.
	 */
	RETVAL = SvREFCNT_inc(HeVAL(result));
#line 108 "APItest.c"
	ST(0) = RETVAL;
	sv_2mortal(ST(0));
    }
    XSRETURN(1);
}

XS(XS_XS__APItest__Hash_store); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest__Hash_store)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: XS::APItest::Hash::store(hash, key_sv, value)");
    {
#line 66 "APItest.xs"
	STRLEN len;
	const char *key;
	SV *copy;
	SV **result;
#line 127 "APItest.c"
	HV *	hash;
	SV *	key_sv = ST(1);
	SV *	value = ST(2);
	SV *	RETVAL;

	if (SvROK(ST(0)) && SvTYPE(SvRV(ST(0)))==SVt_PVHV)
	    hash = (HV*)SvRV(ST(0));
	else
	    Perl_croak(aTHX_ "hash is not a hash reference");
#line 75 "APItest.xs"
	key = SvPV(key_sv, len);
	copy = newSV(0);
	result = hv_store(hash, key, UTF8KLEN(key_sv, len), copy, 0);
	SvSetMagicSV(copy, value);
	if (!result) {
	    SvREFCNT_dec(copy);
	    XSRETURN_EMPTY;
	}
	/* It's about to become mortal, so need to increase reference count.
	 */
	RETVAL = SvREFCNT_inc(*result);
#line 149 "APItest.c"
	ST(0) = RETVAL;
	sv_2mortal(ST(0));
    }
    XSRETURN(1);
}

XS(XS_XS__APItest__Hash_fetch); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest__Hash_fetch)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::Hash::fetch(hash, key_sv)");
    {
#line 93 "APItest.xs"
	STRLEN len;
	const char *key;
	SV **result;
#line 167 "APItest.c"
	HV *	hash;
	SV *	key_sv = ST(1);
	SV *	RETVAL;

	if (SvROK(ST(0)) && SvTYPE(SvRV(ST(0)))==SVt_PVHV)
	    hash = (HV*)SvRV(ST(0));
	else
	    Perl_croak(aTHX_ "hash is not a hash reference");
#line 100 "APItest.xs"
	key = SvPV(key_sv, len);
	result = hv_fetch(hash, key, UTF8KLEN(key_sv, len), 0);
	if (!result) {
	    XSRETURN_EMPTY;
	}
	/* Force mg_get  */
	RETVAL = newSVsv(*result);
#line 184 "APItest.c"
	ST(0) = RETVAL;
	sv_2mortal(ST(0));
    }
    XSRETURN(1);
}

XS(XS_XS__APItest_print_double); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_double)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_double(val)");
    {
	double	val = (double)SvNV(ST(0));
#line 130 "APItest.xs"
        printf("%5.3f\n",val);
#line 201 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_have_long_double); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_have_long_double)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::have_long_double()");
    {
	int	RETVAL;
	dXSTARG;
#line 135 "APItest.xs"
#ifdef HAS_LONG_DOUBLE
        RETVAL = 1;
#else
        RETVAL = 0;
#endif
#line 221 "APItest.c"
	XSprePUSH; PUSHi((IV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_XS__APItest_print_long_double); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_long_double)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_long_double()");
    {
#line 146 "APItest.xs"
#ifdef HAS_LONG_DOUBLE
#   if defined(PERL_PRIfldbl) && (LONG_DOUBLESIZE > DOUBLESIZE)
        long double val = 7.0;
        printf("%5.3" PERL_PRIfldbl "\n",val);
#   else
        double val = 7.0;
        printf("%5.3f\n",val);
#   endif
#endif
#line 244 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_print_int); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_int)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_int(val)");
    {
	int	val = (int)SvIV(ST(0));
#line 160 "APItest.xs"
        printf("%d\n",val);
#line 259 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_print_long); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_long)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_long(val)");
    {
	long	val = (long)SvIV(ST(0));
#line 166 "APItest.xs"
        printf("%ld\n",val);
#line 274 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_print_float); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_float)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_float(val)");
    {
	float	val = (float)SvNV(ST(0));
#line 172 "APItest.xs"
        printf("%5.3f\n",val);
#line 289 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_print_flush); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_print_flush)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::print_flush()");
    {
#line 177 "APItest.xs"
	fflush(stdout);
#line 303 "APItest.c"
    }
    XSRETURN_EMPTY;
}

XS(XS_XS__APItest_mpushp); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mpushp)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mpushp()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 182 "APItest.xs"
	EXTEND(SP, 3);
	mPUSHp("one", 3);
	mPUSHp("two", 3);
	mPUSHp("three", 5);
	XSRETURN(3);
#line 323 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mpushn); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mpushn)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mpushn()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 191 "APItest.xs"
	EXTEND(SP, 3);
	mPUSHn(0.5);
	mPUSHn(-0.25);
	mPUSHn(0.125);
	XSRETURN(3);
#line 344 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mpushi); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mpushi)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mpushi()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 200 "APItest.xs"
	EXTEND(SP, 3);
	mPUSHi(-1);
	mPUSHi(2);
	mPUSHi(-3);
	XSRETURN(3);
#line 365 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mpushu); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mpushu)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mpushu()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 209 "APItest.xs"
	EXTEND(SP, 3);
	mPUSHu(1);
	mPUSHu(2);
	mPUSHu(3);
	XSRETURN(3);
#line 386 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mxpushp); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mxpushp)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mxpushp()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 218 "APItest.xs"
	mXPUSHp("one", 3);
	mXPUSHp("two", 3);
	mXPUSHp("three", 5);
	XSRETURN(3);
#line 406 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mxpushn); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mxpushn)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mxpushn()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 226 "APItest.xs"
	mXPUSHn(0.5);
	mXPUSHn(-0.25);
	mXPUSHn(0.125);
	XSRETURN(3);
#line 426 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mxpushi); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mxpushi)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mxpushi()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 234 "APItest.xs"
	mXPUSHi(-1);
	mXPUSHi(2);
	mXPUSHi(-3);
	XSRETURN(3);
#line 446 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_mxpushu); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_mxpushu)
{
    dXSARGS;
    if (items != 0)
	Perl_croak(aTHX_ "Usage: XS::APItest::mxpushu()");
   PERL_UNUSED_VAR(ax); /* -Wall */
    SP -= items;
    {
#line 242 "APItest.xs"
	mXPUSHu(1);
	mXPUSHu(2);
	mXPUSHu(3);
	XSRETURN(3);
#line 466 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_call_sv); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_call_sv)
{
    dXSARGS;
    if (items < 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::call_sv(sv, flags, ...)");
    SP -= items;
    {
	SV*	sv = ST(0);
	I32	flags = (I32)SvIV(ST(1));
#line 253 "APItest.xs"
	I32 i;
#line 484 "APItest.c"
#line 255 "APItest.xs"
	for (i=0; i<items-2; i++)
	    ST(i) = ST(i+2); /* pop first two args */
	PUSHMARK(SP);
	SP += items - 2;
	PUTBACK;
	i = call_sv(sv, flags);
	SPAGAIN;
	EXTEND(SP, 1);
	PUSHs(sv_2mortal(newSViv(i)));
#line 495 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_call_pv); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_call_pv)
{
    dXSARGS;
    if (items < 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::call_pv(subname, flags, ...)");
    SP -= items;
    {
	char*	subname = (char *)SvPV_nolen(ST(0));
	I32	flags = (I32)SvIV(ST(1));
#line 270 "APItest.xs"
	I32 i;
#line 513 "APItest.c"
#line 272 "APItest.xs"
	for (i=0; i<items-2; i++)
	    ST(i) = ST(i+2); /* pop first two args */
	PUSHMARK(SP);
	SP += items - 2;
	PUTBACK;
	i = call_pv(subname, flags);
	SPAGAIN;
	EXTEND(SP, 1);
	PUSHs(sv_2mortal(newSViv(i)));
#line 524 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_call_method); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_call_method)
{
    dXSARGS;
    if (items < 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::call_method(methname, flags, ...)");
    SP -= items;
    {
	char*	methname = (char *)SvPV_nolen(ST(0));
	I32	flags = (I32)SvIV(ST(1));
#line 287 "APItest.xs"
	I32 i;
#line 542 "APItest.c"
#line 289 "APItest.xs"
	for (i=0; i<items-2; i++)
	    ST(i) = ST(i+2); /* pop first two args */
	PUSHMARK(SP);
	SP += items - 2;
	PUTBACK;
	i = call_method(methname, flags);
	SPAGAIN;
	EXTEND(SP, 1);
	PUSHs(sv_2mortal(newSViv(i)));
#line 553 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_eval_sv); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_eval_sv)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::eval_sv(sv, flags)");
    SP -= items;
    {
	SV*	sv = ST(0);
	I32	flags = (I32)SvIV(ST(1));
#line 304 "APItest.xs"
    	I32 i;
#line 571 "APItest.c"
#line 306 "APItest.xs"
	PUTBACK;
	i = eval_sv(sv, flags);
	SPAGAIN;
	EXTEND(SP, 1);
	PUSHs(sv_2mortal(newSViv(i)));
#line 578 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_eval_pv); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_eval_pv)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: XS::APItest::eval_pv(p, croak_on_error)");
    SP -= items;
    {
	const char*	p = (const char *)SvPV_nolen(ST(0));
	I32	croak_on_error = (I32)SvIV(ST(1));
	SV *	RETVAL;
#line 317 "APItest.xs"
	PUTBACK;
	EXTEND(SP, 1);
	PUSHs(eval_pv(p, croak_on_error));
#line 599 "APItest.c"
	PUTBACK;
	return;
    }
}

XS(XS_XS__APItest_require_pv); /* prototype to pass -Wmissing-prototypes */
XS(XS_XS__APItest_require_pv)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: XS::APItest::require_pv(pv)");
    SP -= items;
    {
	const char*	pv = (const char *)SvPV_nolen(ST(0));
#line 325 "APItest.xs"
	PUTBACK;
	require_pv(pv);
#line 617 "APItest.c"
	PUTBACK;
	return;
    }
}

#ifdef __cplusplus
extern "C"
#endif
XS(boot_XS__APItest); /* prototype to pass -Wmissing-prototypes */
XS(boot_XS__APItest)
{
    dXSARGS;
    char* file = __FILE__;

    XS_VERSION_BOOTCHECK ;

        newXS("XS::APItest::Hash::exists", XS_XS__APItest__Hash_exists, file);
        newXS("XS::APItest::Hash::delete", XS_XS__APItest__Hash_delete, file);
        newXS("XS::APItest::Hash::store_ent", XS_XS__APItest__Hash_store_ent, file);
        newXS("XS::APItest::Hash::store", XS_XS__APItest__Hash_store, file);
        newXS("XS::APItest::Hash::fetch", XS_XS__APItest__Hash_fetch, file);
        newXS("XS::APItest::print_double", XS_XS__APItest_print_double, file);
        newXS("XS::APItest::have_long_double", XS_XS__APItest_have_long_double, file);
        newXS("XS::APItest::print_long_double", XS_XS__APItest_print_long_double, file);
        newXS("XS::APItest::print_int", XS_XS__APItest_print_int, file);
        newXS("XS::APItest::print_long", XS_XS__APItest_print_long, file);
        newXS("XS::APItest::print_float", XS_XS__APItest_print_float, file);
        newXS("XS::APItest::print_flush", XS_XS__APItest_print_flush, file);
        newXS("XS::APItest::mpushp", XS_XS__APItest_mpushp, file);
        newXS("XS::APItest::mpushn", XS_XS__APItest_mpushn, file);
        newXS("XS::APItest::mpushi", XS_XS__APItest_mpushi, file);
        newXS("XS::APItest::mpushu", XS_XS__APItest_mpushu, file);
        newXS("XS::APItest::mxpushp", XS_XS__APItest_mxpushp, file);
        newXS("XS::APItest::mxpushn", XS_XS__APItest_mxpushn, file);
        newXS("XS::APItest::mxpushi", XS_XS__APItest_mxpushi, file);
        newXS("XS::APItest::mxpushu", XS_XS__APItest_mxpushu, file);
        newXS("XS::APItest::call_sv", XS_XS__APItest_call_sv, file);
        newXS("XS::APItest::call_pv", XS_XS__APItest_call_pv, file);
        newXS("XS::APItest::call_method", XS_XS__APItest_call_method, file);
        newXS("XS::APItest::eval_sv", XS_XS__APItest_eval_sv, file);
        newXS("XS::APItest::eval_pv", XS_XS__APItest_eval_pv, file);
        newXS("XS::APItest::require_pv", XS_XS__APItest_require_pv, file);
    XSRETURN_YES;
}

